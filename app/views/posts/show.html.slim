.container
  
  / 投稿内容
  .row
    .col-lg-3
    .col-lg-6.text-center
      .frame-post-index.text-left
        = @post.user.image
        .m-0= link_to @post.user.name, user_path(@post.user)
        = @post.title
        |　
        = render 'posts/tag_list', tag_list: @post.tag_list
        |　
        =link_to '編集', edit_post_path(@post), method: :delete, data: { confirm: "削除してよろしいですか？" }, class: "font-weight-bold btn btn-outline-secondary list btn-sm m-0"
        |　
        = link_to '削除', post_path(@post), method: :delete, data: { confirm: "削除してよろしいですか？" }, class: "font-weight-bold btn btn-outline-danger list btn-sm m-0"
        <br>
        = @post.created_at
        <br>
        = @post.post

        - if @post.liked_by?(current_user)
          = link_to post_like_path(@post), method: :delete do
            i.fas.fa-heart
              = @post.likes.count
              | いいね
        - else
          = link_to post_likes_path(@post), method: :post do
            i.far.fa-heart
              = @post.likes.count
              | いいね
      <br>


  / コメント一覧表示
  .row
    .col-lg-4
    .col-lg-4
      - @comments.each do |comment|
        .frame-post-comment
          =comment.user.image
          = link_to comment.user.name, user_path(comment.user)
          =link_to '削除', post_comment_path(comment), method: :delete, data: { confirm: "削除してよろしいですか？" }, class: "font-weight-bold btn btn-outline-danger list btn-sm m-0"
          <br>
          =comment.comment
        <br>

  
  / コメントフォーム
  .row
    .col-lg-2
    .col-lg-8.text-center
      = form_with(model: [@post, @comment], local: true) do |f|

        / エラーメッセージ
        = render 'users/shared/error_messages', resource: f.object 

        / コメント文
        = f.label :comment, class: "col-lg-3 text-center"
        <br>
        = f.text_area :comment, :size=>"57x5"
        <br>

        .text-center= f.submit "コメントする", class: "font-weight-bold btn btn-outline-secondary list btn-sm"
      
